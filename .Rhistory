data[data$num2 >= 0.7, "num2"] <- NA
nrow(data)
sum(is.na(data))
#identifying missing data per column
colSums(is.na(data))
summary(data)
#Identifying the degree of missingness using visualisation methods
install.packages(visdat)
install.packages("visdat")
#Identifying the degree of missingness using visualisation methods
#install.packages(visdat)
library(visdat)
install.packages("visdat")
#Identifying the degree of missingness using visualisation methods
#install.packages(visdat)
library(visdat)
vis_dat(data)
vis_miss(data)
install.packages("Amelia")
library(Amelia)
missmap(data)
library(ggplot2)
install.packages("naniar")
library(naniar)
gg_miss_var(data)
#Exploring Patterns of Missingness
install.packages("VIM")
library(VIM)
aggr(data, only.miss=TRUE, numbers=TRUE, sortVar=TRUE)
aggr(data, only.miss=TRUE, numbers=TRUE, sortVar=TRUE)
library(VIM)
aggr(data, only.miss=TRUE, numbers=TRUE, sortVar=TRUE)
library(naniar)
install.packages("naniar")
install.packages("naniar")
library(naniar)
ggplot(data, aes(x = cat1, y=cat4)) +
geom_miss_point()+
facet_wrap(~cat2)
set.seed(42)
data <- data.frame(
cat1 = sample(LETTERS[1:7], 500,replace = TRUE),
cat2 = sample(letters[18:23],500,replace = TRUE),
cat3 = sample(LETTERS[8:14],500,replace = TRUE),
cat4 = sample(letters[14:19],500,replace = TRUE),
num1 = rnorm(500,4,2),
num2 = rbeta(500,2,4,0),
num3 = rf(500,2,24,0)
)
# Create MCAR missingness. Missingness is entirely random
data[sample(1:500,50), "num1"] <- NA
# Create MAR missingness. Values will be missing in cat3 when cat4 has the value 'p'
data[data$cat4 == "p", "cat3"] <- NA
# Create MAR missingness. Values will be missing in num3 when cat4 has the value 'A
data[data$cat1 == "A","num3"] <- NA
# Create MNAR missingness. Values greater than or equal to 0.7 will be missing from num2
data[data$num2 >= 0.7, "num2"] <- NA
nrow(data)
sum(is.na(data))
#identifying missing data per column
colSums(is.na(data))
summary(data)
#Identifying the degree of missingness using visualisation methods
#install.packages(visdat)
library(visdat)
vis_dat(data)
vis_miss(data)
library(Amelia)
missmap(data)
library(ggplot2)
library(naniar)
gg_miss_var(data)
library(VIM)
aggr(data, only.miss=TRUE, numbers=TRUE, sortVar=TRUE)
library(naniar)
ggplot(data, aes(x = cat1, y=cat4)) +
geom_miss_point()+
facet_wrap(~cat2)
ggplot(data, aes(x=cat3, y=cat4)) +
geom_miss_point()+
facet_wrap(~cat2)
ggplot(data, aes(x = cat1, y=cat4)) +
geom_miss_point()+
facet_wrap(~cat2)
ggplot(data, aes(x=cat1, y=num1)) +
geom_miss_point()
#Using only complete cases
newdata <- data[complete.cases(data),]
nrow(newdata)
summary(newdata)
colSums(is.na(data))
#inputing the mean
data[is.na(data$num1), "num1"] <-data$num1, na.rm = TRUE)
#inputing the mean
data[is.na(data$num1), "num1"] <- mean(data$num1, na.rm = TRUE)
colSums(is.na(data))
View(data)
View(data)
wine.data <- fread("https://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data")
wine.data <- read("https://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data")
library(data.table)
install.packages("data.table")
install.packages("data.table")
library(data.table)
wine.data <- fread("https://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data")
View(wine.data)
head(dataset)
head(wine.data)
tail(wine.data)
table(wine.data$V1)
wine.type <- wine.data[,-1]
wine.features <- wine.data[,-1]
wine.features.scaled <- data.frame(scale(wine.features))
wine.mat <- data.matrix(wine.features.scaled)
wine.mat
wine.features.scaled
rownames(wine.mat) <- seq(1:dim(wine.features.scaled)[1])
wine.mat
wine.mat <- t(wine.mat)
wine.mat[1:10,]
cor.matrix <- cor(wine.mat, use = "pairwise.complete.obs", method)
cor.matrix <- cor(wine.mat, use = "pairwise.complete.obs", method = "pearson")
dim(cor.matrix)
cor.matrix[1:5,1:5]
user.view <- wine.features.scaled[3,]
user.view
sim.items <- cor.matrix[3,]
sim.items.sorted[1:5]
sim.items.sorted <- sort(sim.items, decreasing = TRUE)
sim.items.sorted[1:5]
library(twitteR)
install.packages("twitterR")
api_key = "'yYf0zjyxgZqlu9j5MDOWq6okG'"
api_secret = "OQtmCCacdDMJPNDgxhOFNy69LJEhIzzCRKQvn0HnsK7f8wRcLp"
access_token = "328069252-DNksJDI286YcorHMRYDXMlNpo0nWFh4qwA4mds91"
access_token_secret = "hUSBB0N9xzbpJ6Y8o2BRYVCVf3YXcG6P71BUljKSjUlmO"
library(twitteR)
install.packages("twitterR")
install.packages('twitterR', dependencies=TRUE, repos='http://cran.rstudio.com/')
library(twitteR)
install.packages("twitteR")
library(twitteR)
api_key = "'yYf0zjyxgZqlu9j5MDOWq6okG'"
api_secret = "OQtmCCacdDMJPNDgxhOFNy69LJEhIzzCRKQvn0HnsK7f8wRcLp"
access_token = "328069252-DNksJDI286YcorHMRYDXMlNpo0nWFh4qwA4mds91"
access_token_secret = "hUSBB0N9xzbpJ6Y8o2BRYVCVf3YXcG6P71BUljKSjUlmO"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
rent = searchTwitter("rent_in_ireland OR #rent_in_ireland OR accommodation_in_ireland OR
#accommodation_in_ireland OR housing_in_ireland OR #housing_in_ireland", n = 3000, lang = 'en')
library(twitteR)
api_key = "'yYf0zjyxgZqlu9j5MDOWq6okG'"
api_secret = "OQtmCCacdDMJPNDgxhOFNy69LJEhIzzCRKQvn0HnsK7f8wRcLp"
access_token = "328069252-DNksJDI286YcorHMRYDXMlNpo0nWFh4qwA4mds91"
access_token_secret = "hUSBB0N9xzbpJ6Y8o2BRYVCVf3YXcG6P71BUljKSjUlmO"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
library(twitteR)
api_key = "'yYf0zjyxgZqlu9j5MDOWq6okG'"
api_secret = "OQtmCCacdDMJPNDgxhOFNy69LJEhIzzCRKQvn0HnsK7f8wRcLp"
access_token = "328069252-DNksJDI286YcorHMRYDXMlNpo0nWFh4qwA4mds91"
access_token_secret = "hUSBB0N9xzbpJ6Y8o2BRYVCVf3YXcG6P71BUljKSjUlmO"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
ibrary(ROAuth)
ibrary(ROAuth)
install.packages("ROAuth")
ibrary(ROAuth)
library(ROAuth)
install.packages("base64enc","devtools","memoise","whisker","rstudioapi",
"git2r","withr","rjson","bit64","httr","httpuv")
install.packages("devtools")
api_key = "'yYf0zjyxgZqlu9j5MDOWq6okG'"
api_secret = "OQtmCCacdDMJPNDgxhOFNy69LJEhIzzCRKQvn0HnsK7f8wRcLp"
access_token = "328069252-DNksJDI286YcorHMRYDXMlNpo0nWFh4qwA4mds91"
access_token_secret = "hUSBB0N9xzbpJ6Y8o2BRYVCVf3YXcG6P71BUljKSjUlmO"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
install.package
install.packages("ROAuth")
library(ROAuth)
library(twitteR)
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
library(twitteR)
library(ROAuth)
api_key = "'yYf0zjyxgZqlu9j5MDOWq6okG'"
api_secret = "OQtmCCacdDMJPNDgxhOFNy69LJEhIzzCRKQvn0HnsK7f8wRcLp"
access_token = "328069252-DNksJDI286YcorHMRYDXMlNpo0nWFh4qwA4mds91"
access_token_secret = "hUSBB0N9xzbpJ6Y8o2BRYVCVf3YXcG6P71BUljKSjUlmO"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
install.packages("RCurl")
install.packages("RCurl")
library(RCurl)
#install.packages("twitterR")
library(twitteR)
#install.packages("ROAuth")
library(ROAuth)
#install.packages("RCurl")
library(RCurl)
api_key = "'sk3kl8hTNBfCe6LAftNj4HFfh'"
api_secret = "xIMy2JMKFIO39gDOQ2elG5YSmKDiGVSYOe4sJhepi5vtEQ9UQt"
access_token = "328069252-XO0bkZQQ9TpxJHsFc6JAmSiGKd485Atam0ziIZik"
access_token_secret = "DDsNjJDMkjF3tQ2awRuYOgyKDz9XHtJTR9ZJqCycXEOKh "
rent = searchTwitter("rent_in_ireland OR #rent_in_ireland OR accommodation_in_ireland OR
#accommodation_in_ireland OR housing_in_ireland OR #housing_in_ireland", n = 3000, lang = 'en')
api_key = "'sk3kl8hTNBfCe6LAftNj4HFfh'"
api_secret = "xIMy2JMKFIO39gDOQ2elG5YSmKDiGVSYOe4sJhepi5vtEQ9UQt"
access_token = "328069252-XO0bkZQQ9TpxJHsFc6JAmSiGKd485Atam0ziIZik"
access_token_secret = "DDsNjJDMkjF3tQ2awRuYOgyKDz9XHtJTR9ZJqCycXEOKh"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
api_key = "sk3kl8hTNBfCe6LAftNj4HFfh"
api_secret = "xIMy2JMKFIO39gDOQ2elG5YSmKDiGVSYOe4sJhepi5vtEQ9UQt"
access_token = "328069252-XO0bkZQQ9TpxJHsFc6JAmSiGKd485Atam0ziIZik"
access_token_secret = "DDsNjJDMkjF3tQ2awRuYOgyKDz9XHtJTR9ZJqCycXEOKh"
setup_twitter_oauth(api_key, api_secret, access_token, access_token_secret)
rent = searchTwitter("rent_in_ireland OR #rent_in_ireland OR accommodation_in_ireland OR
#accommodation_in_ireland OR housing_in_ireland OR #housing_in_ireland", n = 3000, lang = 'en')
View(rent)
twListToDF(rent)
View(rent)
data.frame(rent)
data1 <- twListToDF(rent)
View(data1)
library(rvest)
boards.ie <- read_html("https://www.boards.ie/search/submit/?query=accommodation")
boards.ie <- read_html("https://www.boards.ie/search/submit/?sort=best&date_to=&date_from=&query=rent&page=1")
boards.ie %>%
html_node("title") %>%
html_text()
boards.ie %>%
html_nodes("p.result_snippet")%>%
html_text()
boards.ie %>%
html_nodes("span.date")%>%
html_text()
time <- boards.ie %>%
html_nodes("span.date")%>%
html_text()
forum <- boards.ie %>%
html_nodes("a.//www.boards.ie/vbulletin/forumdisplay.php?f=1208")%>%
html_text()
forum <- boards.ie %>%
html_nodes("a.php?f=1208")%>%
html_text()
boards.ie %>%
html_nodes("p.result_stats")%>%
html_text()
urls <- boards.ie %>%
html_node("//www.boards.ie/vbulletin/forumdisplay.php?f=1208") %>%
html_attr("href")
urls <- boards.ie %>%
html_node("a.//www.boards.ie/vbulletin/forumdisplay.php?f=1208") %>%
html_attr("href")
urls <- boards.ie %>%
html_node("a.php?f=1208") %>%
html_attr("href")
urls <- boards.ie %>%
html_node("a.result_stats") %>%
html_attr("href")
urls <- boards.ie %>%
html_node("a.result_snippet") %>%
html_attr("href")
urls
urls <- boards.ie %>%
html_node("a.result_stats") %>%
html_attr("href")
urls
boards.ie_webpage <- read_html("https://www.boards.ie/search/submit/?sort=best&date_to=&date_from=&query=rent&page=1")
boards.ie_webpage %>%
html_node("title") %>%
html_text()
boards.ie_webpage %>%
html_nodes("p.result_snippet")%>%
html_text()
urls <- boards.ie_webpage %>%
html_node("p.result_stats") %>%
html_attr("href")
urls
title
title <- boards.ie_webpage %>%
html_node("p.result_title") %>%
html_text()
title
title1 <- boards.ie_webpage %>%
html_node("p.result_wrapper") %>%
html_text()
title1
title1 <- boards.ie_webpage %>%
html_node("div.result_wrapper") %>%
html_text()
title1
test <- read_html("https://www.boards.ie/search/submit/?sort=best&date_to=&date_from=&query=accommodation&forum=38")
title <- test %>%
html_node("p.result_title") %>%
html_text()
title
library(rvest)
boards.ie_webpage <- read_html("https://www.boards.ie/search/submit/?sort=best&date_to=&date_from=&query=rent&page=1")
title <- boards.ie_webpage %>%
html_node("p.result_title") %>%
html_text()
title
title1 <- boards.ie_webpage %>%
html_nodes("p.result_wrapper") %>%
html_text()+
comment <- boards.ie_webpage %>%
html_nodes("p.result_snippet")%>%
html_text()
title1 <- boards.ie_webpage %>%
html_nodes("p.result_wrapper") %>%
html_text()
title1
title <- boards.ie_webpage %>%
html_node("title") %>%
html_text()
title
comment <- boards.ie_webpage %>%
html_nodes("p")%>%
html_text()
comment
comment <- boards.ie_webpage %>%
html_nodes("p.result_snippet")%>%
html_text()
comment
title <- boards.ie_webpage %>%
html_node("p.title") %>%
html_text()
title
title <- boards.ie_webpage %>%
html_node("p.result_title") %>%
html_text()
title
title <- boards.ie_webpage %>%
html_nodes("b") %>%
html_text()
title
title <- boards.ie_webpage %>%
html_nodes("a") %>%
html_text()
a
forum <- boards.ie_webpage %>%
html_nodes("a.//www.boards.ie/vbulletin/forumdisplay.php?f=1208") %>%
html_attr("href")
forum <- boards.ie_webpage %>%
html_nodes("a.//www.boards.ie/vbulletin/forumdisplay.php?f=1208") %>%
html_text()
forum <- boards.ie_webpage %>%
html_nodes("a.a") %>%
html_text()
forum
boards.ie_comments <- read_html("https://www.boards.ie/search/submit/?query=rent")
urls <- boards.ie_comments %>%
html_nodes("div.result_wrapper") %>%
html_attr("href")
urls
boards.ie_webpage %>%
html_nodes("p.result_stats")%>%
html_text()
urls <- boards.ie_comments %>%
html_nodes("div.result_wrapper") %>%
html_attr("href")
urls
#intsalling rvest package to enable data scraping
#install.packages("rvest")
#load library
library(rvest)
#reading the html file of boards.ie
boards.ie_webpage <- read_html("https://www.boards.ie/search/submit/?forum=38&sort=newest&date_to=&date_from=&query=rent")
#find no. of pages
retrieveLastPage <- function(html){
pages_data <- html %>%
html_nodes('.paginator_jump last') %>%
html_text()
}
pages_data
#find no. of pages
retrieveLastPage <- function(html){
pages_data <- html %>%
html_node('.paginator_jump last') %>%
html_text()
}
pages_data
#find no. of pages
retrieveLastPage <- function(boards.ie_webpage){
pages_data <- boards.ie_webpage %>%
html_node('.paginator_jump last') %>%
html_text()
}
pages_data
#find no. of pages
retrieveLastPage <- function(boards.ie_webpage){
pages_data <- boards.ie_webpage %>%
html_nodes('.paginator_jump last') %>%
html_text()
pages_data [(length(pages_data))] %>%
unname() %>%
as.numeric()
}
#find no. of pages
retrieveLastPage <- function(html){
pages_data <- html %>%
html_nodes('.paginator_jump last') %>%
html_text()
pages_data [(length(pages_data))] %>%
unname() %>%
as.numeric()
}
(a_page <- retrieveLastPage(boards.ie_webpage))
#find no. of pages
retrieveLastPage <- function(html){
pages_data <- html %>%
html_nodes('.paginator_jump') %>%
html_text()
pages_data [(length(pages_data))] %>%
unname() %>%
as.numeric()
}
(a_page <- retrieveLastPage(boards.ie_webpage))
#installed and loaded for effective data manipulation
install.packages("tidyverse")
)
library(tidyverse)
install.packages(stringr)
if (!('stringr' %in% installed.packages())) {
install.packages('stringr')
}
install.packages("stringr")
library(stringr)
#find no. of pages
retrieveLastPage <- function(html){
pages_data <- html %>%
html_nodes('.paginator_jump') %>%
html_text()
pages_data [(length(pages_data))] %>%
unname() %>%
as.numeric()
}
(a_page <- retrieveLastPage(boards.ie_webpage))
(a_page <- retrieveLastPage(boards.ie_webpage))
#find no. of pages
retrieveLastPage <- function(html){
pages_data <- html %>%
html_nodes("a.paginator_jump") %>%
html_text()
pages_data [(length(pages_data))] %>%
unname() %>%
as.numeric()
}
(a_page <- retrieveLastPage(boards.ie_webpage))
install.packages("purrr")
install.packages("purrr")
library(purrr)
boards_test <- read_html("https://www.boards.ie/search/submit/?forum=38&sort=newest&date_to=&date_from=&query=rent&page=%d")
boards_test <- "https://www.boards.ie/search/submit/?forum=38&sort=newest&date_to=&date_from=&query=rent&page=%d"
map_df(1:3, function(i){
page <- read_html(sprintf(boards_test, i))
data.frame(Title = html_text(html_nodes(page, ".result_title")),
Comment = html_text(html_nodes(page, ".result_snippet")),
Time = html_text(html_nodes(page, ".date"))
)
})
map_df(1:3, function(i){
page <- html(sprintf(boards_test, i))
data.frame(Title = html_text(html_nodes(page, ".result_title")),
Comment = html_text(html_nodes(page, ".result_snippet")),
Time = html_text(html_nodes(page, ".date"))
)
})
install.packages("xml2")
library(xml2)
#installing and loading rvest package to parse HTML/XML files
#install.packages("rvest")
library(rvest)
library(tidyverse)
library(stringr)
library(purrr)
boards_test <- "https://www.boards.ie/search/submit/?forum=38&sort=newest&date_to=&date_from=&query=rent&page=%d"
map_df(1:3, function(i){
page <- read_html(sprintf(boards_test, i))
data.frame(Title = html_text(html_nodes(page, ".result_title")),
Comment = html_text(html_nodes(page, ".result_snippet")),
Time = html_text(html_nodes(page, ".date"))
)
})
view(boards_test)
boards_data <- Data_frame
boards_data <- data.frame
View(boards.ie_webpage)
View(boards.ie_comments)
View(boards.ie)
view(boards_data)
map_df(1:3, function(i){
page <- read_html(sprintf(boards_test, i))
boards_data <- data.frame(Title = html_text(html_nodes(page, ".result_title")),
Comment = html_text(html_nodes(page, ".result_snippet")),
Time = html_text(html_nodes(page, ".date"))
)
})
view(board)
view(boards_data)
map_df(1:3, function(i){
page <- read_html(sprintf(boards_test, i))
data.frame(Title = html_text(html_nodes(page, ".result_title")),
Comment = html_text(html_nodes(page, ".result_snippet")),
Time = html_text(html_nodes(page, ".date"))
)
}) -> boards_data
View(boards_data)
citation()
View(boards_data)
head(boards_data)
setwd("C:/Users/hp/OneDrive - National College of Ireland/MSc. Research")
write.csv(boards_data.csv)
write.csv(boards_data)
write.csv(boards_data, file = "boardstest.csv")
table(boards_data)
